<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guia da Cidade - Ofertas e Com√©rcios</title>
  
  <!-- CSS e √çcones -->
  <link rel="stylesheet" href="css/style.css">
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  
  <!-- Fonte Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0d6efd">
  <link rel="icon" type="image/png" href="assets/img/app-icon.png">
  <link rel="apple-touch-icon" href="assets/img/app-icon.png">
</head>
<body>

  <!-- Header -->
  <header class="app-header">
    <div class="container header-content">
      <!-- Logo Texto Colorido -->
      <div class="brand-logo">
        <span style="color: #0d6efd;">Pro</span><span style="color: #f59e0b;">mo</span><span style="color: #198754;">Ci</span><span style="color: #dc3545;">ty</span><span style="color: #0d6efd;">Vai</span>
      </div>
      
      <div style="display: flex; gap: 10px; align-items: center;">
        <!-- Bot√£o Instalar (Oculto por padr√£o) -->
        <button id="btnInstalarApp" class="btn-primary" style="display: none; font-size: 0.8rem; padding: 6px 12px;">
          <i class='bx bxs-download'></i> Instalar App
        </button>

        <button id="btnNotificacoes" class="btn-icon" style="position:relative;">
          <i class='bx bx-bell'></i>
          <span class="notif-badge">3</span>
        </button>
      </div>
    </div>
  </header>

  <main class="container">
    
    <!-- Busca -->
    <div class="search-container">
      <div class="search-input-wrapper">
        <i class='bx bx-search'></i>
        <input type="text" id="searchInput" class="search-input" placeholder="Buscar lojas, lanches ou servi√ßos...">
      </div>
    </div>

    <!-- Stories -->
    <section class="stories-section">
      <div class="stories-track" id="storiesContainer">
        <!-- Injetado via JS -->
        <div class="story-item loading-skeleton">
          <div class="story-preview" style="background:#eee;"></div>
        </div>
      </div>
    </section>

    <!-- Contador de Visitas (Fake Realista) - POSI√á√ÉO NOVA -->
    <div id="liveCounter" style="text-align: center; margin-bottom: 24px; color: #198754; font-size: 0.9rem; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 6px;">
      <span style="position: relative; display: flex; height: 10px; width: 10px;">
        <span style="position: absolute; display: inline-flex; height: 100%; width: 100%; border-radius: 50%; background-color: #198754; opacity: 0.75; animation: ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;"></span>
        <span style="position: relative; display: inline-flex; border-radius: 50%; height: 10px; width: 10px; background-color: #198754;"></span>
      </span>
      <span id="counterNum">72</span> pessoas vendo ofertas agora
    </div>

    <!-- Categorias -->
    <section class="categories-grid" id="categoriesContainer">
      <!-- Injetado via JS -->
    </section>

    <!-- Banner Rotativo (simulado) -->
    <div style="padding: 0 16px; margin-bottom: 16px;">
      <a href="planos.html" style="display: block; text-decoration: none;">
        <div style="background: linear-gradient(90deg, #0d6efd, #0099ff); border-radius: 16px; padding: 20px; color: white; text-align: center; transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
          <h3 style="font-weight: 800;">Anuncie Gr√°tis! üöÄ</h3>
          <p style="font-size: 0.9rem; opacity: 0.9; margin-top: 4px;">Toque aqui e cadastre seu com√©rcio agora.</p>
        </div>
      </a>
    </div>

    <!-- Bot√£o Baixe o App -->
    <div style="padding: 0 16px; margin-bottom: 16px;">
      <button id="btnBaixeApp" style="width: 100%; padding: 14px; border: 2px dashed #0d6efd; background: #e0f2fe; color: #0369a1; border-radius: 16px; font-weight: 700; font-size: 1rem; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;">
        <i class='bx bxs-download'></i> Baixe o App no seu Celular
      </button>
    </div>

    <!-- Promo√ß√µes do Dia -->
    <section>
      <div class="section-header">
        <div class="section-title"><i class='bx bxs-hot' style="color:#ff3d00"></i> Ofertas Quentes</div>
        <a href="#" class="see-all">Ver todas</a>
      </div>
      
      <div class="feed-grid" id="promosContainer">
        <!-- Injetado via JS -->
      </div>
    </section>

    <!-- Lojas em Destaque -->
    <section>
      <div class="section-header">
        <div class="section-title"><i class='bx bxs-store' style="color:#0d6efd"></i> Lojas Parceiras</div>
      </div>
      
      <div class="feed-grid" id="storesContainer" style="grid-template-columns: 1fr;">
        <!-- Injetado via JS -->
      </div>
    </section>

    <!-- RODAP√â LEGAL -->
    <footer style="text-align: center; padding: 30px 20px; color: #64748b; font-size: 0.8rem; margin-top: 40px; border-top: 1px solid #e2e8f0; background: #fff;">
      <p style="margin-bottom: 8px; font-size: 0.9rem;"><strong>PromoCity</strong> √© uma iniciativa 100% privada.</p>
      <p style="line-height: 1.4;">Este aplicativo n√£o possui qualquer v√≠nculo oficial, parceria ou liga√ß√£o com a Prefeitura Municipal ou administra√ß√£o p√∫blica da cidade.</p>
      <p style="margin-top: 16px; font-size: 0.75rem; opacity: 0.8;">&copy; 2025 PromoCity - Todos os direitos reservados.</p>
    </footer>

  </main>

  <!-- Modal Notifica√ß√µes -->
  <div id="notificacoesModal" class="modal-backdrop d-none">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Notifica√ß√µes</h3>
        <button id="fecharNotificacoes" class="btn-icon"><i class='bx bx-x'></i></button>
      </div>
      <div class="notif-list">
        <div class="notif-item unread">
          <div class="notif-icon bg-blue"><i class='bx bxs-discount'></i></div>
          <div class="notif-text">
            <strong>Oferta Rel√¢mpago!</strong>
            <p>Burguer King acabou de postar uma promo√ß√£o de 50% OFF.</p>
            <small>H√° 2 min</small>
          </div>
        </div>
        <div class="notif-item unread">
          <div class="notif-icon bg-orange"><i class='bx bxs-hot'></i></div>
          <div class="notif-text">
            <strong>Novidade na Cidade</strong>
            <p>Nova loja de tecnologia cadastrada. Confira as ofertas!</p>
            <small>H√° 1 hora</small>
          </div>
        </div>
        <div class="notif-item">
          <div class="notif-icon bg-green"><i class='bx bxl-whatsapp'></i></div>
          <div class="notif-text">
            <strong>Bem-vindo!</strong>
            <p>Obrigado por usar o PromoCity. Encontre as melhores ofertas aqui.</p>
            <small>Ontem</small>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <!-- FIREBASE SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  
  <script src="js/firebase-config.js"></script>
  <script src="js/script.js"></script>
</body>
</html>
